window.requestId=0;function refreshInfoPageCategoryList(b,c){var f='{"infoPageId" : '+b;f+=', "templateSuffix":"'+c+'"';f+="}";var a="GetInfoPageCategoryOptionList";var e=window.requestId++;var d='{"jsonrpc": "2.0","method":"'+a+'","params":'+f+',"id":'+e+"}";$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/*!@ServiceUrl@*/",data:d,dataType:"json",success:function(g){var h=g;if(g.hasOwnProperty("error")==false){if(g.hasOwnProperty("d")){h=g.d}else{if(g.hasOwnProperty("result")){h=g.result}}if(h.hasOwnProperty("html")){$("#infoPageCategorySelect")[0].options.length=0;$("#infoPageCategorySelect").html(h.html);$("#infoPageCategorySelect").selectmenu("refresh");$("#infoPageCategorySelect").trigger("create")}if(h.hasOwnProperty("warn")){showWarning(h.warn)}}else{showError(g.error.name+":"+g.error.message)}}})}function refreshInfoPageForm(b,d,c,a,e){if(typeof(getInfoPageSaveView)=="function"){getInfoPageSaveView(0,b,d,c,a,false)}if(typeof(refreshInfoPageList)=="function"){refreshInfoPageList(b,d,c,a,e)}$("#infoPageSaveView"+c).hide("slow");$("#infoPageListSection"+c).trigger("expand")}function getInfoPageSaveView(b,a,d,g,j,h){var f='{"infoPageId" : '+b;f+=', "pageNo" : '+a;f+=', "itemsPerPage" : '+d;f+=', "dataIndex" : '+g;f+=', "templateSuffix" : "'+j+'"';f+="}";var e="GetInfoPageSaveView";var c=window.requestId++;var i='{"jsonrpc": "2.0","method":"'+e+'","params":'+f+',"id":'+c+"}";$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/*!@ServiceUrl@*/",data:i,dataType:"json",success:function(k){var l=k;if(k.hasOwnProperty("error")==false){if(k.hasOwnProperty("d")){l=k.d}else{if(k.hasOwnProperty("result")){l=k.result}}if(l.hasOwnProperty("html")){$("#infoPageSaveView"+g).html(l.html);$("#infoPageSaveView"+g).trigger("create");if(h==true){$("#infoPageSaveView"+g).toggle("slow");$("#infoPageSaveSection"+g).trigger("expand")}}}else{showError(k.error.name+":"+k.error.message)}}});return false}function saveInfoPage(b,w,g,u,m){var n=true;var c=$("#infoPageName").val();if(c.length==0){showError("Please enter the Info Page Name");n=false}var a=$("#infoPageDescription").val();if(a.length==0){showError("Please enter the Info Page Description");n=false}var k=$("#infoPageCategorySelect option:selected").val();if(k==0){showError("Please Select a Info Category");n=false}var t=0;if($("#accessGroupSelect").length>0){t=$("#accessGroupSelect option:selected").val()}var v=false;if($("#infoPageCommentable").is(":checked")){v=true}var p="";if($("#commentorRoleSelect").length>0){var i=$("#commentorRoleSelect").val();if(Object.prototype.toString.call(i)==="[object Array]"){p=i.join()}else{p=i}}var s=false;if($("#infoPageAsyncLoading").is(":checked")){s=true}var l=false;if($("#infoPageIsPublic").is(":checked")){l=true}var j=false;if($("#infoPageIsActive").is(":checked")){j=true}var e="";if($("#infoPageExpiryDate").length>0){e=$("#infoPageExpiryDate").val();if(n==true){if(e.length==0){showError("Please enter the Page Expiry Date");n=false}}}var q=false;if($("#infoPageIsDeleted").is(":checked")){q=true}var d=0;if($("#infoPageSequence").length>0){d=$("#infoPageSequence").val()}if(n==true){if(typeof(showProgress)=="function"){showProgress()}var h='{"infoPageName" : "'+encodeURIComponent(c)+'"';h+=', "infoPageDescription" : "'+encodeURIComponent(a)+'"';h+=', "infoPageCategoryId" : '+k;h+=', "accessGroupId" : '+t;h+=', "commentable" : '+v;h+=', "commentorRoleList" : "'+p+'"';h+=', "asyncLoading" : '+s;h+=', "isPublic" : '+l;h+=', "isActive" : '+j;h+=', "expiryDate" : "'+e+'"';h+=', "isDeleted" : '+q;h+=', "sequence" : '+d;h+=', "infoPageId" : '+b;h+="}";var o=window.requestId++;var r="SaveInfoPage";var f='{"jsonrpc": "2.0","method":"'+r+'","params":'+h+',"id":'+o+"}";$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/*!@ServiceUrl@*/",data:f,dataType:"json",success:function(x){var y=x;if(x.hasOwnProperty("error")==false){if(x.hasOwnProperty("d")){y=x.d}else{if(x.hasOwnProperty("result")){y=x.result}}if(y.hasOwnProperty("message")){showSuccess(y.message);refreshInfoPageForm(w,g,u,m,s)}else{if(y.hasOwnProperty("error")){showError(y.error)}}}else{showError(x.error.name+":"+x.error.message)}if(typeof(hideProgress)=="function"){hideProgress()}}})}return false}function deleteInfoPage(b,a,d,h,j,e){if(b>0){if(typeof(showProgress)=="function"){showProgress()}var g='{"infoPageId" : '+b;g+="}";var c=window.requestId++;var f="DeleteInfoPage";var i='{"jsonrpc": "2.0","method":"'+f+'","params":'+g+',"id":'+c+"}";$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/*!@ServiceUrl@*/",data:i,dataType:"json",success:function(k){var l=k;if(k.hasOwnProperty("error")==false){if(k.hasOwnProperty("d")){l=k.d}else{if(k.hasOwnProperty("result")){l=k.result}}if(l.hasOwnProperty("message")){showSuccess(l.message);refreshInfoPageForm(a,d,h,j,e)}else{if(l.hasOwnProperty("error")){showError(l.error)}}}else{showError(k.error.name+":"+k.error.message)}if(typeof(hideProgress)=="function"){hideProgress()}}})}return false};