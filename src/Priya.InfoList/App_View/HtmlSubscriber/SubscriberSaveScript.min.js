window.requestId=0;function refreshSubscriberForm(b,d,c,a){if(typeof(refreshSubscriberList)=="function"){refreshSubscriberList(b,d,c,a)}$("#subscriberDetails").hide("slow");$("#subscriberListSection").trigger("expand")}function getSubscriberSaveView(f,a,c,g,j,h){var e='{"subscriberId" : '+f;e+=', "pageNo" : '+a;e+=', "itemsPerPage" : '+c;e+=', "dataIndex" : '+g;e+=', "templateSuffix" : "'+j+'"';e+="}";var d="GetSubscriberSaveView";var b=window.requestId++;var i='{"jsonrpc": "2.0","method":"'+d+'","params":'+e+',"id":'+b+"}";$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/*!@ServiceUrl@*/",data:i,dataType:"json",success:function(k){var l=k;if(k.hasOwnProperty("error")==false){if(k.hasOwnProperty("d")){l=k.d}else{if(k.hasOwnProperty("result")){l=k.result}}if(l.hasOwnProperty("html")){$("#subscriberSaveView").html(l.html);$("#subscriberSaveView").trigger("create");if(h==true){$("#subscriberSaveSection").trigger("expand")}}}else{showError(k.error.name+":"+k.error.message)}}});return false}function saveSubscriber(j,b,e,k,m){var a=true;var h=$("#subscriberEmail").val();if(h.length==0){showError("Please enter the Subscriber Email");a=false}var d=$("#subscriberMessage").val();if(d.length==0){showError("Please enter the Subscriber Message");a=false}var g=false;if($("#subscriberIsDeleted").is(":checked")){g=true}if(a==true){if(typeof(showProgress)=="function"){showProgress()}var i='{"subscriberEmail" : "'+encodeURIComponent(h)+'"';i+=', "subscriberMessage" : "'+encodeURIComponent(d)+'"';i+=', "subscriberIsDeleted" : '+g;i+=', "subscriberId" : '+j;i+="}";var c=window.requestId++;var f="SaveSubscriber";var l='{"jsonrpc": "2.0","method":"'+f+'","params":'+i+',"id":'+c+"}";$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/*!@ServiceUrl@*/",data:l,dataType:"json",success:function(n){var o=n;if(n.hasOwnProperty("error")==false){if(n.hasOwnProperty("d")){o=n.d}else{if(n.hasOwnProperty("result")){o=n.result}}if(o.hasOwnProperty("message")){showSuccess(o.message);refreshSubscriberForm(b,e,k,m)}else{if(o.hasOwnProperty("error")){showError(o.error)}}}else{showError(n.error.name+":"+n.error.message)}if(typeof(hideProgress)=="function"){hideProgress()}}})}return false}function deleteSubscriber(f,a,c,g,i){if(f>0){if(typeof(showProgress)=="function"){showProgress()}var e='{"subscriberId" : '+f;e+="}";var b=window.requestId++;var d="DeleteSubscriber";var h='{"jsonrpc": "2.0","method":"'+d+'","params":'+e+',"id":'+b+"}";$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/*!@ServiceUrl@*/",data:h,dataType:"json",success:function(j){var k=j;if(j.hasOwnProperty("error")==false){if(j.hasOwnProperty("d")){k=j.d}else{if(j.hasOwnProperty("result")){k=j.result}}if(k.hasOwnProperty("message")){showSuccess(k.message);refreshSubscriberForm(a,c,g,i)}else{if(k.hasOwnProperty("error")){showError(k.error)}}}else{showError(j.error.name+":"+j.error.message)}if(typeof(hideProgress)=="function"){hideProgress()}}})}return false};